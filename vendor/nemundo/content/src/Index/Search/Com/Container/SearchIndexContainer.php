<?php

namespace Nemundo\Content\Index\Search\Com\Container;


use Nemundo\Admin\Com\Table\AdminTable;
use Nemundo\Admin\Com\Table\AdminTableHeader;
use Nemundo\Com\TableBuilder\TableHeader;
use Nemundo\Com\TableBuilder\TableRow;
use Nemundo\Content\Com\Container\AbstractContentTypeContainer;
use Nemundo\Content\Index\Search\Data\SearchIndex\SearchIndexReader;
use Nemundo\Content\Index\Search\Type\SearchIndexTrait;

class SearchIndexContainer extends AbstractContentTypeContainer
{

    public function getContent()
    {

        //if ($contentType->isObjectOfTrait(SearchIndexTrait::class)) {

            //$table1->addLabelValue('Search', 'yes');

            $table = new AdminTable($this);

            $header = new AdminTableHeader($table);
            $header->addText('Search Word');

            $reader = new SearchIndexReader();
            $reader->model->loadWord();
            $reader->filter->andEqual($reader->model->contentId, $this->contentType->getContentId());
            foreach ($reader->getData() as $searchIndexRow) {

                $row = new TableRow($table);
                $row->addText($searchIndexRow->word->word);

            }


        return parent::getContent(); // TODO: Change the autogenerated stub
    }

}